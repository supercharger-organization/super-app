
<mat-drawer-container class="h-100" *ngIf="user">
    
    <!-- sidebar content -->
    <mat-drawer mode="side" class="d-flex flex-direction-column" opened>
        <div class="mt-4 d-flex align-items-center justify-content-center">
            <img style="width: 66%;" src="./assets/imgs/enel.png" />
        </div>

        <mat-list class="mt-5 flex-grow-1">
            <mat-list-item style="margin-bottom: 8%;" *ngFor="let page of pages" class="text-muted super-border-radius" [disabled]="page.disabled" [routerLink]="page.url" routerLinkActive="router-link-active" >
                
                <mat-icon mat-list-icon>
                    {{page.icon}}
                </mat-icon>

                <div class="ml-5 pointer align-items-center d-flex">{{page.title}} 
                    <div class="ml-3 super-badge" *ngIf="page.notificationCount > 0">
                        <span>{{page.notificationCount}}</span>
                    </div> 
                </div>

            </mat-list-item>
        </mat-list>

        <!-- ad -->
        <div class="w-100 justify-content-center text-center mt-5">
            <div class="d-flex justify-content-center">
                <div class="d-flex align-items-center justify-content-center" style="background: rgb(228, 244, 255); width: 75px; height: 75px; border-radius: 100%;">
                    <img class="super-img-xs" style="background: rgb(228, 244, 255); " src="assets/imgs/work.png" alt="Card image cap">
                </div>
            </div>
            <br/>
            <small class="text-muted">Early access to analytics <br/> dashboard.</small>
            <br/><br/>
            <!-- <app-upgrade-button></app-upgrade-button> -->
        </div>

        
        <!-- greeting -->
        <div class="w-100 position-absolute ml-auto" style="bottom: 3rem; left: 0px;">
            <div class="d-flex w-100 justify-content-center" *ngIf="user">
                <div class="d-flex align-items-center" (click)="navigateToAdminPage()">
                    <div *ngIf="user.photoURL">
                        <img class="super-startup-img-sm" [src]="user.photoURL" alt="Card image cap">
                    </div>
                    <div class="ml-1">
                        <strong>Welcome<br> {{user.displayName ? user.displayName : ""}}</strong>
                    </div>
                </div>
            </div>
            
            <!-- Logout -->
            <div class="d-flex w-100 justify-content-center mt-3">
                <div class="d-flex align-items-center">
                    <button mat-flat-button class="super-button sm danger" (click)="authService.SignOut()">
                        Log Out
                    </button>
                </div>
            </div>
        </div>


    </mat-drawer>
    
    <!-- main content -->
    <mat-drawer-content class="p-5">

        <!-- pages -->
        <router-outlet ></router-outlet>

    </mat-drawer-content>

</mat-drawer-container>  

<!-- login -->
<div *ngIf="!user">
    <router-outlet></router-outlet>
</div>
